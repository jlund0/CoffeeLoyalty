{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { isIgnored } from \"./ViewConfigIgnore\";\nexport function validate(name, nativeViewConfig, staticViewConfig) {\n  var differences = [];\n  accumulateDifferences(differences, [], {\n    bubblingEventTypes: nativeViewConfig.bubblingEventTypes,\n    directEventTypes: nativeViewConfig.directEventTypes,\n    uiViewClassName: nativeViewConfig.uiViewClassName,\n    validAttributes: nativeViewConfig.validAttributes\n  }, {\n    bubblingEventTypes: staticViewConfig.bubblingEventTypes,\n    directEventTypes: staticViewConfig.directEventTypes,\n    uiViewClassName: staticViewConfig.uiViewClassName,\n    validAttributes: staticViewConfig.validAttributes\n  });\n  if (differences.length === 0) {\n    return {\n      type: 'valid'\n    };\n  }\n  return {\n    type: 'invalid',\n    differences: differences\n  };\n}\nexport function stringifyValidationResult(name, validationResult) {\n  var differences = validationResult.differences;\n  return [`StaticViewConfigValidator: Invalid static view config for '${name}'.`, ''].concat(_toConsumableArray(differences.map(function (difference) {\n    var type = difference.type,\n      path = difference.path;\n    switch (type) {\n      case 'missing':\n        return `- '${path.join('.')}' is missing.`;\n      case 'unequal':\n        return `- '${path.join('.')}' is the wrong value.`;\n      case 'unexpected':\n        return `- '${path.join('.')}' is present but not expected to be.`;\n    }\n  })), ['']).join('\\n');\n}\nfunction accumulateDifferences(differences, path, nativeObject, staticObject) {\n  for (var nativeKey in nativeObject) {\n    var nativeValue = nativeObject[nativeKey];\n    if (!staticObject.hasOwnProperty(nativeKey)) {\n      differences.push({\n        path: [].concat(_toConsumableArray(path), [nativeKey]),\n        type: 'missing',\n        nativeValue: nativeValue\n      });\n      continue;\n    }\n    var staticValue = staticObject[nativeKey];\n    var nativeValueIfObject = ifObject(nativeValue);\n    if (nativeValueIfObject != null) {\n      var staticValueIfObject = ifObject(staticValue);\n      if (staticValueIfObject != null) {\n        path.push(nativeKey);\n        accumulateDifferences(differences, path, nativeValueIfObject, staticValueIfObject);\n        path.pop();\n        continue;\n      }\n    }\n    if (nativeValue !== staticValue) {\n      differences.push({\n        path: [].concat(_toConsumableArray(path), [nativeKey]),\n        type: 'unequal',\n        nativeValue: nativeValue,\n        staticValue: staticValue\n      });\n    }\n  }\n  for (var staticKey in staticObject) {\n    if (!nativeObject.hasOwnProperty(staticKey) && !isIgnored(staticObject[staticKey])) {\n      differences.push({\n        path: [].concat(_toConsumableArray(path), [staticKey]),\n        type: 'unexpected',\n        staticValue: staticObject[staticKey]\n      });\n    }\n  }\n}\nfunction ifObject(value) {\n  return typeof value === 'object' && !Array.isArray(value) ? value : null;\n}","map":{"version":3,"names":["isIgnored","validate","name","nativeViewConfig","staticViewConfig","differences","accumulateDifferences","bubblingEventTypes","directEventTypes","uiViewClassName","validAttributes","length","type","stringifyValidationResult","validationResult","concat","_toConsumableArray","map","difference","path","join","nativeObject","staticObject","nativeKey","nativeValue","hasOwnProperty","push","staticValue","nativeValueIfObject","ifObject","staticValueIfObject","pop","staticKey","value","Array","isArray"],"sources":["D:/Users/julian/GIT/CoffeeLoyalty/FrontEnd User Mobile/node_modules/react-native/Libraries/NativeComponent/StaticViewConfigValidator.js"],"sourcesContent":["/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @flow strict\r\n * @format\r\n */\r\n\r\nimport {type ViewConfig} from '../Renderer/shims/ReactNativeTypes';\r\nimport {isIgnored} from './ViewConfigIgnore';\r\n\r\nexport type Difference =\r\n  | {\r\n      type: 'missing',\r\n      path: Array<string>,\r\n      nativeValue: mixed,\r\n    }\r\n  | {\r\n      type: 'unequal',\r\n      path: Array<string>,\r\n      nativeValue: mixed,\r\n      staticValue: mixed,\r\n    }\r\n  | {\r\n      type: 'unexpected',\r\n      path: Array<string>,\r\n      staticValue: mixed,\r\n    };\r\n\r\nexport type ValidationResult = ValidResult | InvalidResult;\r\ntype ValidResult = {\r\n  type: 'valid',\r\n};\r\ntype InvalidResult = {\r\n  type: 'invalid',\r\n  differences: Array<Difference>,\r\n};\r\n\r\n/**\r\n * During the migration from native view configs to static view configs, this is\r\n * used to validate that the two are equivalent.\r\n */\r\nexport function validate(\r\n  name: string,\r\n  nativeViewConfig: ViewConfig,\r\n  staticViewConfig: ViewConfig,\r\n): ValidationResult {\r\n  const differences: Array<Difference> = [];\r\n  accumulateDifferences(\r\n    differences,\r\n    [],\r\n    {\r\n      bubblingEventTypes: nativeViewConfig.bubblingEventTypes,\r\n      directEventTypes: nativeViewConfig.directEventTypes,\r\n      uiViewClassName: nativeViewConfig.uiViewClassName,\r\n      validAttributes: nativeViewConfig.validAttributes,\r\n    },\r\n    {\r\n      bubblingEventTypes: staticViewConfig.bubblingEventTypes,\r\n      directEventTypes: staticViewConfig.directEventTypes,\r\n      uiViewClassName: staticViewConfig.uiViewClassName,\r\n      validAttributes: staticViewConfig.validAttributes,\r\n    },\r\n  );\r\n\r\n  if (differences.length === 0) {\r\n    return {type: 'valid'};\r\n  }\r\n\r\n  return {\r\n    type: 'invalid',\r\n    differences,\r\n  };\r\n}\r\n\r\nexport function stringifyValidationResult(\r\n  name: string,\r\n  validationResult: InvalidResult,\r\n): string {\r\n  const {differences} = validationResult;\r\n  return [\r\n    `StaticViewConfigValidator: Invalid static view config for '${name}'.`,\r\n    '',\r\n    ...differences.map(difference => {\r\n      const {type, path} = difference;\r\n      switch (type) {\r\n        case 'missing':\r\n          return `- '${path.join('.')}' is missing.`;\r\n        case 'unequal':\r\n          return `- '${path.join('.')}' is the wrong value.`;\r\n        case 'unexpected':\r\n          return `- '${path.join('.')}' is present but not expected to be.`;\r\n      }\r\n    }),\r\n    '',\r\n  ].join('\\n');\r\n}\r\n\r\nfunction accumulateDifferences(\r\n  differences: Array<Difference>,\r\n  path: Array<string>,\r\n  nativeObject: {...},\r\n  staticObject: {...},\r\n): void {\r\n  for (const nativeKey in nativeObject) {\r\n    const nativeValue = nativeObject[nativeKey];\r\n\r\n    if (!staticObject.hasOwnProperty(nativeKey)) {\r\n      differences.push({\r\n        path: [...path, nativeKey],\r\n        type: 'missing',\r\n        nativeValue,\r\n      });\r\n      continue;\r\n    }\r\n\r\n    const staticValue = staticObject[nativeKey];\r\n\r\n    const nativeValueIfObject = ifObject(nativeValue);\r\n    if (nativeValueIfObject != null) {\r\n      const staticValueIfObject = ifObject(staticValue);\r\n      if (staticValueIfObject != null) {\r\n        path.push(nativeKey);\r\n        accumulateDifferences(\r\n          differences,\r\n          path,\r\n          nativeValueIfObject,\r\n          staticValueIfObject,\r\n        );\r\n        path.pop();\r\n        continue;\r\n      }\r\n    }\r\n\r\n    if (nativeValue !== staticValue) {\r\n      differences.push({\r\n        path: [...path, nativeKey],\r\n        type: 'unequal',\r\n        nativeValue,\r\n        staticValue,\r\n      });\r\n    }\r\n  }\r\n\r\n  for (const staticKey in staticObject) {\r\n    if (\r\n      !nativeObject.hasOwnProperty(staticKey) &&\r\n      !isIgnored(staticObject[staticKey])\r\n    ) {\r\n      differences.push({\r\n        path: [...path, staticKey],\r\n        type: 'unexpected',\r\n        staticValue: staticObject[staticKey],\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction ifObject(value: mixed): ?{...} {\r\n  return typeof value === 'object' && !Array.isArray(value) ? value : null;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}