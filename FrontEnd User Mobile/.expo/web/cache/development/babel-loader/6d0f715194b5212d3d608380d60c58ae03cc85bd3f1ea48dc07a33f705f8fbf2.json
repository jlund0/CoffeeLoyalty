{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\";\nimport { app } from \"../firebase\";\nvar db = getFirestore(app);\nvar uri = \"mongodb+srv://julianlund22:9Nyqlonx46Vfin9s@loyalcoffee.gr6rlnl.mongodb.net/?retryWrites=true&w=majority\";\nvar client = new MongoClient(uri);\nfunction run(_x) {\n  return _run.apply(this, arguments);\n}\nfunction _run() {\n  _run = _asyncToGenerator(function* (_ref) {\n    var choice = _ref.choice,\n      user = _ref.user;\n    try {\n      yield client.connect();\n      yield client.db(\"LoyalCoffee\").command({\n        ping: 1\n      });\n      switch (choice) {\n        case \"newUser\":\n          var result = yield client.db(\"LoyalCoffee\").collection(\"Users\").insertOne(user);\n          console.log(`New user created with the following id: ${result.insertedId}`);\n          break;\n        case \"getUser\":\n          getUser();\n          break;\n        case \"updateUser\":\n          updateUser();\n          break;\n        case \"deleteUser\":\n          deleteUser();\n          break;\n        case \"getUsersCards\":\n          getUsersCards();\n          break;\n        case \"getShops\":\n          GetShops();\n          break;\n      }\n      console.log(\"Pinged your deployment. You successfully connected to MongoDB!\");\n    } finally {\n      yield client.close();\n    }\n  });\n  return _run.apply(this, arguments);\n}\nrun().catch(console.dir);\nexport function NewUser(_x2) {\n  return _NewUser.apply(this, arguments);\n}\nfunction _NewUser() {\n  _NewUser = _asyncToGenerator(function* (_ref2) {\n    var user = _ref2.user;\n    try {\n      var docRef = yield addDoc(collection(db, \"users\"), user);\n      console.log(\"Document written with ID: \", docRef.id);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  });\n  return _NewUser.apply(this, arguments);\n}\nfunction getUser() {}\nfunction updateUser() {}\nfunction deleteUser() {}\nfunction getUsersCards() {}\nfunction GetShops() {}","map":{"version":3,"names":["initializeApp","getFirestore","collection","addDoc","app","db","uri","client","MongoClient","run","_x","_run","apply","arguments","_asyncToGenerator","_ref","choice","user","connect","command","ping","result","insertOne","console","log","insertedId","getUser","updateUser","deleteUser","getUsersCards","GetShops","close","catch","dir","NewUser","_x2","_NewUser","_ref2","docRef","id","e","error"],"sources":["C:/Users/julia/OneDrive/CoffeeLoyality/LoyalCoffee/components/database.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\";\r\nimport { app } from \"../firebase\";\r\n\r\n// Replace the uri string with your MongoDB deployment's connection string.\r\nconst db = getFirestore(app);\r\n\r\nconst uri =\r\n  \"mongodb+srv://julianlund22:9Nyqlonx46Vfin9s@loyalcoffee.gr6rlnl.mongodb.net/?retryWrites=true&w=majority\";\r\n\r\nconst client = new MongoClient(uri);\r\n\r\nasync function run({ choice, user }) {\r\n  try {\r\n    await client.connect();\r\n    // database and collection code goes here\r\n    // insert code goes here\r\n    // display the results of your operation\r\n    await client.db(\"LoyalCoffee\").command({ ping: 1 });\r\n    switch (choice) {\r\n      case \"newUser\":\r\n        const result = await client\r\n          .db(\"LoyalCoffee\")\r\n          .collection(\"Users\")\r\n          .insertOne(user);\r\n        console.log(\r\n          `New user created with the following id: ${result.insertedId}`\r\n        );\r\n        break;\r\n      case \"getUser\":\r\n        getUser();\r\n        break;\r\n      case \"updateUser\":\r\n        updateUser();\r\n        break;\r\n      case \"deleteUser\":\r\n        deleteUser();\r\n        break;\r\n      case \"getUsersCards\":\r\n        getUsersCards();\r\n        break;\r\n      case \"getShops\":\r\n        GetShops();\r\n        break;\r\n    }\r\n    console.log(\r\n      \"Pinged your deployment. You successfully connected to MongoDB!\"\r\n    );\r\n  } finally {\r\n    // Ensures that the client will close when you finish/error\r\n\r\n    await client.close();\r\n  }\r\n}\r\n\r\nrun().catch(console.dir);\r\nexport async function NewUser({ user }) {\r\n  try {\r\n    const docRef = await addDoc(collection(db, \"users\"), user);\r\n    console.log(\"Document written with ID: \", docRef.id);\r\n  } catch (e) {\r\n    console.error(\"Error adding document: \", e);\r\n  }\r\n}\r\n\r\nfunction getUser() {}\r\n\r\nfunction updateUser() {}\r\n\r\nfunction deleteUser() {}\r\n\r\nfunction getUsersCards() {}\r\n\r\nfunction GetShops() {}\r\n"],"mappings":";AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,UAAU,EAAEC,MAAM,QAAQ,oBAAoB;AACrE,SAASC,GAAG;AAGZ,IAAMC,EAAE,GAAGJ,YAAY,CAACG,GAAG,CAAC;AAE5B,IAAME,GAAG,GACP,0GAA0G;AAE5G,IAAMC,MAAM,GAAG,IAAIC,WAAW,CAACF,GAAG,CAAC;AAAC,SAErBG,GAAGA,CAAAC,EAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,KAAA;EAAAA,IAAA,GAAAG,iBAAA,CAAlB,WAAAC,IAAA,EAAqC;IAAA,IAAhBC,MAAM,GAAAD,IAAA,CAANC,MAAM;MAAEC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IAC/B,IAAI;MACF,MAAMV,MAAM,CAACW,OAAO,CAAC,CAAC;MAItB,MAAMX,MAAM,CAACF,EAAE,CAAC,aAAa,CAAC,CAACc,OAAO,CAAC;QAAEC,IAAI,EAAE;MAAE,CAAC,CAAC;MACnD,QAAQJ,MAAM;QACZ,KAAK,SAAS;UACZ,IAAMK,MAAM,SAASd,MAAM,CACxBF,EAAE,CAAC,aAAa,CAAC,CACjBH,UAAU,CAAC,OAAO,CAAC,CACnBoB,SAAS,CAACL,IAAI,CAAC;UAClBM,OAAO,CAACC,GAAG,CACR,2CAA0CH,MAAM,CAACI,UAAW,EAC/D,CAAC;UACD;QACF,KAAK,SAAS;UACZC,OAAO,CAAC,CAAC;UACT;QACF,KAAK,YAAY;UACfC,UAAU,CAAC,CAAC;UACZ;QACF,KAAK,YAAY;UACfC,UAAU,CAAC,CAAC;UACZ;QACF,KAAK,eAAe;UAClBC,aAAa,CAAC,CAAC;UACf;QACF,KAAK,UAAU;UACbC,QAAQ,CAAC,CAAC;UACV;MACJ;MACAP,OAAO,CAACC,GAAG,CACT,gEACF,CAAC;IACH,CAAC,SAAS;MAGR,MAAMjB,MAAM,CAACwB,KAAK,CAAC,CAAC;IACtB;EACF,CAAC;EAAA,OAAApB,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAEDJ,GAAG,CAAC,CAAC,CAACuB,KAAK,CAACT,OAAO,CAACU,GAAG,CAAC;AACxB,gBAAsBC,OAAOA,CAAAC,GAAA;EAAA,OAAAC,QAAA,CAAAxB,KAAA,OAAAC,SAAA;AAAA;AAO5B,SAAAuB,SAAA;EAAAA,QAAA,GAAAtB,iBAAA,CAPM,WAAAuB,KAAA,EAAiC;IAAA,IAARpB,IAAI,GAAAoB,KAAA,CAAJpB,IAAI;IAClC,IAAI;MACF,IAAMqB,MAAM,SAASnC,MAAM,CAACD,UAAU,CAACG,EAAE,EAAE,OAAO,CAAC,EAAEY,IAAI,CAAC;MAC1DM,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEc,MAAM,CAACC,EAAE,CAAC;IACtD,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVjB,OAAO,CAACkB,KAAK,CAAC,yBAAyB,EAAED,CAAC,CAAC;IAC7C;EACF,CAAC;EAAA,OAAAJ,QAAA,CAAAxB,KAAA,OAAAC,SAAA;AAAA;AAED,SAASa,OAAOA,CAAA,EAAG,CAAC;AAEpB,SAASC,UAAUA,CAAA,EAAG,CAAC;AAEvB,SAASC,UAAUA,CAAA,EAAG,CAAC;AAEvB,SAASC,aAAaA,CAAA,EAAG,CAAC;AAE1B,SAASC,QAAQA,CAAA,EAAG,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}