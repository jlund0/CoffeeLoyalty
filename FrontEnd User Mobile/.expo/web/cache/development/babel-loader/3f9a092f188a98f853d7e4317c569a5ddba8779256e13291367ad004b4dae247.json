{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport getDevServer from \"../Core/Devtools/getDevServer\";\nimport LogBox from \"../LogBox/LogBox\";\nimport NativeRedBox from \"../NativeModules/specs/NativeRedBox\";\nvar DevSettings = require(\"./DevSettings\");\nvar Platform = require(\"./Platform\");\nvar invariant = require('invariant');\nvar MetroHMRClient = require('metro-runtime/src/modules/HMRClient');\nvar prettyFormat = require('pretty-format');\nvar pendingEntryPoints = [];\nvar hmrClient = null;\nvar hmrUnavailableReason = null;\nvar currentCompileErrorMessage = null;\nvar didConnect = false;\nvar pendingLogs = [];\nvar HMRClient = {\n  enable: function enable() {\n    if (hmrUnavailableReason !== null) {\n      throw new Error(hmrUnavailableReason);\n    }\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    var LoadingView = require(\"./LoadingView\");\n    hmrClient.send(JSON.stringify({\n      type: 'log-opt-in'\n    }));\n    var hasUpdates = hmrClient.hasPendingUpdates();\n    if (hasUpdates) {\n      LoadingView.showMessage('Refreshing...', 'refresh');\n    }\n    try {\n      hmrClient.enable();\n    } finally {\n      if (hasUpdates) {\n        LoadingView.hide();\n      }\n    }\n    showCompileError();\n  },\n  disable: function disable() {\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    hmrClient.disable();\n  },\n  registerBundle: function registerBundle(requestUrl) {\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    pendingEntryPoints.push(requestUrl);\n    registerBundleEntryPoints(hmrClient);\n  },\n  log: function log(level, data) {\n    if (!hmrClient) {\n      pendingLogs.push([level, data]);\n      if (pendingLogs.length > 100) {\n        pendingLogs.shift();\n      }\n      return;\n    }\n    try {\n      hmrClient.send(JSON.stringify({\n        type: 'log',\n        level: level,\n        mode: global.RN$Bridgeless === true ? 'NOBRIDGE' : 'BRIDGE',\n        data: data.map(function (item) {\n          return typeof item === 'string' ? item : prettyFormat(item, {\n            escapeString: true,\n            highlight: true,\n            maxDepth: 3,\n            min: true,\n            plugins: [prettyFormat.plugins.ReactElement]\n          });\n        })\n      }));\n    } catch (error) {}\n  },\n  setup: function setup(platform, bundleEntry, host, port, isEnabled) {\n    var scheme = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'http';\n    invariant(platform, 'Missing required parameter `platform`');\n    invariant(bundleEntry, 'Missing required parameter `bundleEntry`');\n    invariant(host, 'Missing required parameter `host`');\n    invariant(!hmrClient, 'Cannot initialize hmrClient twice');\n    var LoadingView = require(\"./LoadingView\");\n    var serverHost = port !== null && port !== '' ? `${host}:${port}` : host;\n    var serverScheme = scheme;\n    var client = new MetroHMRClient(`${serverScheme}://${serverHost}/hot`);\n    hmrClient = client;\n    var _getDevServer = getDevServer(),\n      fullBundleUrl = _getDevServer.fullBundleUrl;\n    pendingEntryPoints.push(fullBundleUrl != null ? fullBundleUrl : `${serverScheme}://${serverHost}/hot?bundleEntry=${bundleEntry}&platform=${platform}`);\n    client.on('connection-error', function (e) {\n      var error = `Cannot connect to Metro.\n\nTry the following to fix the issue:\n- Ensure that Metro is running and available on the same network`;\n      if (Platform.OS === 'ios') {\n        error += `\n- Ensure that the Metro URL is correctly set in AppDelegate`;\n      } else {\n        error += `\n- Ensure that your device/emulator is connected to your machine and has USB debugging enabled - run 'adb devices' to see a list of connected devices\n- If you're on a physical device connected to the same machine, run 'adb reverse tcp:8081 tcp:8081' to forward requests from your device\n- If your device is on the same Wi-Fi network, set 'Debug server host & port for device' in 'Dev settings' to your machine's IP address and the port of the local dev server - e.g. 10.0.1.1:8081`;\n      }\n      error += `\n\nURL: ${host}:${port}\n\nError: ${e.message}`;\n      setHMRUnavailableReason(error);\n    });\n    client.on('update-start', function (_ref) {\n      var isInitialUpdate = _ref.isInitialUpdate;\n      currentCompileErrorMessage = null;\n      didConnect = true;\n      if (client.isEnabled() && !isInitialUpdate) {\n        LoadingView.showMessage('Refreshing...', 'refresh');\n      }\n    });\n    client.on('update', function (_ref2) {\n      var isInitialUpdate = _ref2.isInitialUpdate;\n      if (client.isEnabled() && !isInitialUpdate) {\n        dismissRedbox();\n        LogBox.clearAllLogs();\n      }\n    });\n    client.on('update-done', function () {\n      LoadingView.hide();\n    });\n    client.on('error', function (data) {\n      LoadingView.hide();\n      if (data.type === 'GraphNotFoundError') {\n        client.close();\n        setHMRUnavailableReason('Metro has restarted since the last edit. Reload to reconnect.');\n      } else if (data.type === 'RevisionNotFoundError') {\n        client.close();\n        setHMRUnavailableReason('Metro and the client are out of sync. Reload to reconnect.');\n      } else {\n        currentCompileErrorMessage = `${data.type} ${data.message}`;\n        if (client.isEnabled()) {\n          showCompileError();\n        }\n      }\n    });\n    client.on('close', function (closeEvent) {\n      LoadingView.hide();\n      var isNormalOrUnsetCloseReason = closeEvent == null || closeEvent.code === 1000 || closeEvent.code === 1005 || closeEvent.code == null;\n      setHMRUnavailableReason(`${isNormalOrUnsetCloseReason ? 'Disconnected from Metro.' : `Disconnected from Metro (${closeEvent.code}: \"${closeEvent.reason}\").`}\n\nTo reconnect:\n- Ensure that Metro is running and available on the same network\n- Reload this app (will trigger further help if Metro cannot be connected to)\n      `);\n    });\n    if (isEnabled) {\n      HMRClient.enable();\n    } else {\n      HMRClient.disable();\n    }\n    registerBundleEntryPoints(hmrClient);\n    flushEarlyLogs(hmrClient);\n  }\n};\nfunction setHMRUnavailableReason(reason) {\n  invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n  if (hmrUnavailableReason !== null) {\n    return;\n  }\n  hmrUnavailableReason = reason;\n  if (hmrClient.isEnabled() && didConnect) {\n    console.warn(reason);\n  }\n}\nfunction registerBundleEntryPoints(client) {\n  if (hmrUnavailableReason != null) {\n    DevSettings.reload('Bundle Splitting – Metro disconnected');\n    return;\n  }\n  if (pendingEntryPoints.length > 0) {\n    client.send(JSON.stringify({\n      type: 'register-entrypoints',\n      entryPoints: pendingEntryPoints\n    }));\n    pendingEntryPoints.length = 0;\n  }\n}\nfunction flushEarlyLogs(client) {\n  try {\n    pendingLogs.forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        level = _ref4[0],\n        data = _ref4[1];\n      HMRClient.log(level, data);\n    });\n  } finally {\n    pendingLogs.length = 0;\n  }\n}\nfunction dismissRedbox() {\n  if (Platform.OS === 'ios' && NativeRedBox != null && NativeRedBox.dismiss != null) {\n    NativeRedBox.dismiss();\n  } else {\n    var NativeExceptionsManager = require(\"../Core/NativeExceptionsManager\").default;\n    NativeExceptionsManager && NativeExceptionsManager.dismissRedbox && NativeExceptionsManager.dismissRedbox();\n  }\n}\nfunction showCompileError() {\n  if (currentCompileErrorMessage === null) {\n    return;\n  }\n  dismissRedbox();\n  var message = currentCompileErrorMessage;\n  currentCompileErrorMessage = null;\n  var error = new Error(message);\n  error.preventSymbolication = true;\n  throw error;\n}\nmodule.exports = HMRClient;","map":{"version":3,"names":["getDevServer","LogBox","NativeRedBox","DevSettings","require","Platform","invariant","MetroHMRClient","prettyFormat","pendingEntryPoints","hmrClient","hmrUnavailableReason","currentCompileErrorMessage","didConnect","pendingLogs","HMRClient","enable","Error","LoadingView","send","JSON","stringify","type","hasUpdates","hasPendingUpdates","showMessage","hide","showCompileError","disable","registerBundle","requestUrl","push","registerBundleEntryPoints","log","level","data","length","shift","mode","global","RN$Bridgeless","map","item","escapeString","highlight","maxDepth","min","plugins","ReactElement","error","setup","platform","bundleEntry","host","port","isEnabled","scheme","arguments","undefined","serverHost","serverScheme","client","_getDevServer","fullBundleUrl","on","e","OS","message","setHMRUnavailableReason","_ref","isInitialUpdate","_ref2","dismissRedbox","clearAllLogs","close","closeEvent","isNormalOrUnsetCloseReason","code","reason","flushEarlyLogs","console","warn","reload","entryPoints","forEach","_ref3","_ref4","_slicedToArray","dismiss","NativeExceptionsManager","default","preventSymbolication","module","exports"],"sources":["D:/Users/julian/GIT/CoffeeLoyalty/FrontEnd User Mobile/node_modules/react-native/Libraries/Utilities/HMRClient.js"],"sourcesContent":["/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n * @flow strict-local\r\n */\r\n\r\nimport type {ExtendedError} from '../Core/ExtendedError';\r\n\r\nimport getDevServer from '../Core/Devtools/getDevServer';\r\nimport LogBox from '../LogBox/LogBox';\r\nimport NativeRedBox from '../NativeModules/specs/NativeRedBox';\r\n\r\nconst DevSettings = require('./DevSettings');\r\nconst Platform = require('./Platform');\r\nconst invariant = require('invariant');\r\nconst MetroHMRClient = require('metro-runtime/src/modules/HMRClient');\r\nconst prettyFormat = require('pretty-format');\r\n\r\nconst pendingEntryPoints = [];\r\nlet hmrClient = null;\r\nlet hmrUnavailableReason: string | null = null;\r\nlet currentCompileErrorMessage: string | null = null;\r\nlet didConnect: boolean = false;\r\nlet pendingLogs: Array<[LogLevel, $ReadOnlyArray<mixed>]> = [];\r\n\r\ntype LogLevel =\r\n  | 'trace'\r\n  | 'info'\r\n  | 'warn'\r\n  | 'error'\r\n  | 'log'\r\n  | 'group'\r\n  | 'groupCollapsed'\r\n  | 'groupEnd'\r\n  | 'debug';\r\n\r\nexport type HMRClientNativeInterface = {|\r\n  enable(): void,\r\n  disable(): void,\r\n  registerBundle(requestUrl: string): void,\r\n  log(level: LogLevel, data: $ReadOnlyArray<mixed>): void,\r\n  setup(\r\n    platform: string,\r\n    bundleEntry: string,\r\n    host: string,\r\n    port: number | string,\r\n    isEnabled: boolean,\r\n    scheme?: string,\r\n  ): void,\r\n|};\r\n\r\n/**\r\n * HMR Client that receives from the server HMR updates and propagates them\r\n * runtime to reflects those changes.\r\n */\r\nconst HMRClient: HMRClientNativeInterface = {\r\n  enable() {\r\n    if (hmrUnavailableReason !== null) {\r\n      // If HMR became unavailable while you weren't using it,\r\n      // explain why when you try to turn it on.\r\n      // This is an error (and not a warning) because it is shown\r\n      // in response to a direct user action.\r\n      throw new Error(hmrUnavailableReason);\r\n    }\r\n\r\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\r\n    const LoadingView = require('./LoadingView');\r\n\r\n    // We use this for internal logging only.\r\n    // It doesn't affect the logic.\r\n    hmrClient.send(JSON.stringify({type: 'log-opt-in'}));\r\n\r\n    // When toggling Fast Refresh on, we might already have some stashed updates.\r\n    // Since they'll get applied now, we'll show a banner.\r\n    const hasUpdates = hmrClient.hasPendingUpdates();\r\n\r\n    if (hasUpdates) {\r\n      LoadingView.showMessage('Refreshing...', 'refresh');\r\n    }\r\n    try {\r\n      hmrClient.enable();\r\n    } finally {\r\n      if (hasUpdates) {\r\n        LoadingView.hide();\r\n      }\r\n    }\r\n\r\n    // There could be a compile error while Fast Refresh was off,\r\n    // but we ignored it at the time. Show it now.\r\n    showCompileError();\r\n  },\r\n\r\n  disable() {\r\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\r\n    hmrClient.disable();\r\n  },\r\n\r\n  registerBundle(requestUrl: string) {\r\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\r\n    pendingEntryPoints.push(requestUrl);\r\n    registerBundleEntryPoints(hmrClient);\r\n  },\r\n\r\n  log(level: LogLevel, data: $ReadOnlyArray<mixed>) {\r\n    if (!hmrClient) {\r\n      // Catch a reasonable number of early logs\r\n      // in case hmrClient gets initialized later.\r\n      pendingLogs.push([level, data]);\r\n      if (pendingLogs.length > 100) {\r\n        pendingLogs.shift();\r\n      }\r\n      return;\r\n    }\r\n    try {\r\n      hmrClient.send(\r\n        JSON.stringify({\r\n          type: 'log',\r\n          level,\r\n          mode: global.RN$Bridgeless === true ? 'NOBRIDGE' : 'BRIDGE',\r\n          data: data.map(item =>\r\n            typeof item === 'string'\r\n              ? item\r\n              : prettyFormat(item, {\r\n                  escapeString: true,\r\n                  highlight: true,\r\n                  maxDepth: 3,\r\n                  min: true,\r\n                  plugins: [prettyFormat.plugins.ReactElement],\r\n                }),\r\n          ),\r\n        }),\r\n      );\r\n    } catch (error) {\r\n      // If sending logs causes any failures we want to silently ignore them\r\n      // to ensure we do not cause infinite-logging loops.\r\n    }\r\n  },\r\n\r\n  // Called once by the bridge on startup, even if Fast Refresh is off.\r\n  // It creates the HMR client but doesn't actually set up the socket yet.\r\n  setup(\r\n    platform: string,\r\n    bundleEntry: string,\r\n    host: string,\r\n    port: number | string,\r\n    isEnabled: boolean,\r\n    scheme?: string = 'http',\r\n  ) {\r\n    invariant(platform, 'Missing required parameter `platform`');\r\n    invariant(bundleEntry, 'Missing required parameter `bundleEntry`');\r\n    invariant(host, 'Missing required parameter `host`');\r\n    invariant(!hmrClient, 'Cannot initialize hmrClient twice');\r\n\r\n    // Moving to top gives errors due to NativeModules not being initialized\r\n    const LoadingView = require('./LoadingView');\r\n\r\n    const serverHost = port !== null && port !== '' ? `${host}:${port}` : host;\r\n\r\n    const serverScheme = scheme;\r\n\r\n    const client = new MetroHMRClient(`${serverScheme}://${serverHost}/hot`);\r\n\r\n    hmrClient = client;\r\n\r\n    const {fullBundleUrl} = getDevServer();\r\n    pendingEntryPoints.push(\r\n      // HMRServer understands regular bundle URLs, so prefer that in case\r\n      // there are any important URL parameters we can't reconstruct from\r\n      // `setup()`'s arguments.\r\n      fullBundleUrl ??\r\n        `${serverScheme}://${serverHost}/hot?bundleEntry=${bundleEntry}&platform=${platform}`,\r\n    );\r\n\r\n    client.on('connection-error', e => {\r\n      let error = `Cannot connect to Metro.\r\n\r\nTry the following to fix the issue:\r\n- Ensure that Metro is running and available on the same network`;\r\n\r\n      if (Platform.OS === 'ios') {\r\n        error += `\r\n- Ensure that the Metro URL is correctly set in AppDelegate`;\r\n      } else {\r\n        error += `\r\n- Ensure that your device/emulator is connected to your machine and has USB debugging enabled - run 'adb devices' to see a list of connected devices\r\n- If you're on a physical device connected to the same machine, run 'adb reverse tcp:8081 tcp:8081' to forward requests from your device\r\n- If your device is on the same Wi-Fi network, set 'Debug server host & port for device' in 'Dev settings' to your machine's IP address and the port of the local dev server - e.g. 10.0.1.1:8081`;\r\n      }\r\n\r\n      error += `\r\n\r\nURL: ${host}:${port}\r\n\r\nError: ${e.message}`;\r\n\r\n      setHMRUnavailableReason(error);\r\n    });\r\n\r\n    client.on('update-start', ({isInitialUpdate}) => {\r\n      currentCompileErrorMessage = null;\r\n      didConnect = true;\r\n\r\n      if (client.isEnabled() && !isInitialUpdate) {\r\n        LoadingView.showMessage('Refreshing...', 'refresh');\r\n      }\r\n    });\r\n\r\n    client.on('update', ({isInitialUpdate}) => {\r\n      if (client.isEnabled() && !isInitialUpdate) {\r\n        dismissRedbox();\r\n        LogBox.clearAllLogs();\r\n      }\r\n    });\r\n\r\n    client.on('update-done', () => {\r\n      LoadingView.hide();\r\n    });\r\n\r\n    client.on('error', data => {\r\n      LoadingView.hide();\r\n\r\n      if (data.type === 'GraphNotFoundError') {\r\n        client.close();\r\n        setHMRUnavailableReason(\r\n          'Metro has restarted since the last edit. Reload to reconnect.',\r\n        );\r\n      } else if (data.type === 'RevisionNotFoundError') {\r\n        client.close();\r\n        setHMRUnavailableReason(\r\n          'Metro and the client are out of sync. Reload to reconnect.',\r\n        );\r\n      } else {\r\n        currentCompileErrorMessage = `${data.type} ${data.message}`;\r\n        if (client.isEnabled()) {\r\n          showCompileError();\r\n        }\r\n      }\r\n    });\r\n\r\n    client.on('close', closeEvent => {\r\n      LoadingView.hide();\r\n\r\n      // https://www.rfc-editor.org/rfc/rfc6455.html#section-7.4.1\r\n      // https://www.rfc-editor.org/rfc/rfc6455.html#section-7.1.5\r\n      const isNormalOrUnsetCloseReason =\r\n        closeEvent == null ||\r\n        closeEvent.code === 1000 ||\r\n        closeEvent.code === 1005 ||\r\n        closeEvent.code == null;\r\n\r\n      setHMRUnavailableReason(\r\n        `${\r\n          isNormalOrUnsetCloseReason\r\n            ? 'Disconnected from Metro.'\r\n            : `Disconnected from Metro (${closeEvent.code}: \"${closeEvent.reason}\").`\r\n        }\r\n\r\nTo reconnect:\r\n- Ensure that Metro is running and available on the same network\r\n- Reload this app (will trigger further help if Metro cannot be connected to)\r\n      `,\r\n      );\r\n    });\r\n\r\n    if (isEnabled) {\r\n      HMRClient.enable();\r\n    } else {\r\n      HMRClient.disable();\r\n    }\r\n\r\n    registerBundleEntryPoints(hmrClient);\r\n    flushEarlyLogs(hmrClient);\r\n  },\r\n};\r\n\r\nfunction setHMRUnavailableReason(reason: string) {\r\n  invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\r\n  if (hmrUnavailableReason !== null) {\r\n    // Don't show more than one warning.\r\n    return;\r\n  }\r\n  hmrUnavailableReason = reason;\r\n\r\n  // We only want to show a warning if Fast Refresh is on *and* if we ever\r\n  // previously managed to connect successfully. We don't want to show\r\n  // the warning to native engineers who use cached bundles without Metro.\r\n  if (hmrClient.isEnabled() && didConnect) {\r\n    console.warn(reason);\r\n    // (Not using the `warning` module to prevent a Buck cycle.)\r\n  }\r\n}\r\n\r\nfunction registerBundleEntryPoints(client: MetroHMRClient) {\r\n  if (hmrUnavailableReason != null) {\r\n    DevSettings.reload('Bundle Splitting – Metro disconnected');\r\n    return;\r\n  }\r\n\r\n  if (pendingEntryPoints.length > 0) {\r\n    client.send(\r\n      JSON.stringify({\r\n        type: 'register-entrypoints',\r\n        entryPoints: pendingEntryPoints,\r\n      }),\r\n    );\r\n    pendingEntryPoints.length = 0;\r\n  }\r\n}\r\n\r\nfunction flushEarlyLogs(client: MetroHMRClient) {\r\n  try {\r\n    pendingLogs.forEach(([level, data]) => {\r\n      HMRClient.log(level, data);\r\n    });\r\n  } finally {\r\n    pendingLogs.length = 0;\r\n  }\r\n}\r\n\r\nfunction dismissRedbox() {\r\n  if (\r\n    Platform.OS === 'ios' &&\r\n    NativeRedBox != null &&\r\n    NativeRedBox.dismiss != null\r\n  ) {\r\n    NativeRedBox.dismiss();\r\n  } else {\r\n    const NativeExceptionsManager =\r\n      require('../Core/NativeExceptionsManager').default;\r\n    NativeExceptionsManager &&\r\n      NativeExceptionsManager.dismissRedbox &&\r\n      NativeExceptionsManager.dismissRedbox();\r\n  }\r\n}\r\n\r\nfunction showCompileError() {\r\n  if (currentCompileErrorMessage === null) {\r\n    return;\r\n  }\r\n\r\n  // Even if there is already a redbox, syntax errors are more important.\r\n  // Otherwise you risk seeing a stale runtime error while a syntax error is more recent.\r\n  dismissRedbox();\r\n\r\n  const message = currentCompileErrorMessage;\r\n  currentCompileErrorMessage = null;\r\n\r\n  /* $FlowFixMe[class-object-subtyping] added when improving typing for this\r\n   * parameters */\r\n  const error: ExtendedError = new Error(message);\r\n  // Symbolicating compile errors is wasted effort\r\n  // because the stack trace is meaningless:\r\n  error.preventSymbolication = true;\r\n  throw error;\r\n}\r\n\r\nmodule.exports = HMRClient;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}