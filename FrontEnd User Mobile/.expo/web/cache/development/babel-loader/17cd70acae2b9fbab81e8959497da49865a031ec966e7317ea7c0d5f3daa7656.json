{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport * as React from \"react\";\nimport { NavigationContainer, useIsFocused } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { app } from \"./firebase.js\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport Home from \"./screens/Home\";\nimport CardScreen from \"./screens/Card\";\nimport StoresScreen from \"./screens/Shops\";\nimport SettingsScreen from \"./screens/Settings\";\nimport SignInScreen from \"./screens/SignIn\";\nimport SignUpScreen from \"./screens/SignUp\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Stack = createNativeStackNavigator();\nfunction SplashScreen() {\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    children: [_jsx(Text, {\n      children: \"Getting token...\"\n    }), _jsx(ActivityIndicator, {\n      size: \"large\"\n    })]\n  });\n}\nvar IsSignedIn = function IsSignedIn() {\n  var auth = getAuth(app);\n  onAuthStateChanged(auth, function (user) {\n    if (user) {\n      var uid = user.uid;\n      navigator.navigate(\"Home\");\n      return true;\n    } else {\n      navigator.navigate(\"Login\");\n      return false;\n    }\n  });\n};\nexport default function App() {\n  var isSignedIn = IsSignedIn();\n  var _React$useState = React.useState(true),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isLoading = _React$useState2[0],\n    setIsLoading = _React$useState2[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    userToken = _React$useState4[0],\n    setUserToken = _React$useState4[1];\n  onAuthStateChanged(auth, function (user) {\n    if (user) {\n      setUserToken(user.uid);\n      console.log(\"user \" + userToken + \" signed in\");\n      return true;\n    } else {\n      console.log(\"no user signed in\");\n      return false;\n    }\n  });\n  if (isLoading) {\n    return _jsx(SplashScreen, {});\n  }\n  return _jsx(NavigationContainer, {\n    children: _jsx(Stack.Navigator, {\n      initialRouteName: \"Login\",\n      children: isSignedIn ? _jsxs(_Fragment, {\n        children: [_jsx(Stack.Screen, {\n          name: \"Home\",\n          component: Home,\n          options: {\n            headerStyle: {\n              opacity: 0,\n              height: 0\n            },\n            animation: \"slide_from_left\"\n          }\n        }), _jsx(Stack.Screen, {\n          name: \"card\",\n          component: CardScreen,\n          options: {\n            headerStyle: {},\n            animation: \"slide_from_left\"\n          }\n        }), _jsx(Stack.Screen, {\n          name: \"stores\",\n          component: StoresScreen,\n          options: {\n            headerStyle: {\n              opacity: 0,\n              height: 0\n            },\n            animation: \"slide_from_left\"\n          }\n        }), _jsx(Stack.Screen, {\n          name: \"settings\",\n          component: SettingsScreen,\n          options: {\n            headerStyle: {\n              opacity: 0,\n              height: 0\n            }\n          }\n        })]\n      }) : _jsxs(_Fragment, {\n        children: [_jsx(Stack.Screen, {\n          name: \"Login\",\n          component: SignInScreen\n        }), _jsx(Stack.Screen, {\n          name: \"Register\",\n          component: SignUpScreen\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  image: {\n    width: 100,\n    height: 100,\n    borderRadius: 18\n  },\n  icon: {\n    width: 40,\n    height: 40\n  },\n  button: {\n    borderRadius: 50,\n    backgroundColor: \"0\",\n    borderWidth: 2,\n    justifyContent: \"center\",\n    alignSelf: \"center\"\n  }\n});","map":{"version":3,"names":["React","NavigationContainer","useIsFocused","createNativeStackNavigator","app","getAuth","onAuthStateChanged","Home","CardScreen","StoresScreen","SettingsScreen","SignInScreen","SignUpScreen","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Stack","SplashScreen","View","style","flex","alignItems","justifyContent","children","Text","ActivityIndicator","size","IsSignedIn","auth","user","uid","navigator","navigate","App","isSignedIn","_React$useState","useState","_React$useState2","_slicedToArray","isLoading","setIsLoading","_React$useState3","_React$useState4","userToken","setUserToken","console","log","Navigator","initialRouteName","Screen","name","component","options","headerStyle","opacity","height","animation","styles","StyleSheet","create","image","width","borderRadius","icon","button","backgroundColor","borderWidth","alignSelf"],"sources":["C:/Users/julia/OneDrive/CoffeeLoyality/LoyalCoffee/App.js"],"sourcesContent":["import { StyleSheet } from \"react-native\";\n\nimport * as React from \"react\";\nimport { NavigationContainer, useIsFocused } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { app } from \"./firebase.js\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\n//SCREENS\nimport Home from \"./screens/Home\";\nimport CardScreen from \"./screens/Card\";\nimport StoresScreen from \"./screens/Shops\";\nimport SettingsScreen from \"./screens/Settings\";\nimport SignInScreen from \"./screens/SignIn\";\nimport SignUpScreen from \"./screens/SignUp\";\n\nconst Stack = createNativeStackNavigator();\n\nfunction SplashScreen() {\n  return (\n    <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n      <Text>Getting token...</Text>\n      <ActivityIndicator size=\"large\" />\n    </View>\n  );\n}\n\nconst IsSignedIn = () => {\n  // custom logic\n  const auth = getAuth(app);\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      const uid = user.uid;\n      navigator.navigate(\"Home\");\n\n      return true;\n    } else {\n      navigator.navigate(\"Login\");\n      return false;\n    }\n  });\n};\n\nexport default function App() {\n  const isSignedIn = IsSignedIn();\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [userToken, setUserToken] = React.useState(null);\n\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      setUserToken(user.uid);\n      console.log(\"user \" + userToken + \" signed in\");\n      return true;\n    } else {\n      console.log(\"no user signed in\");\n      return false;\n    }\n  });\n  if (isLoading) {\n    // We haven't finished checking for the token yet\n    return <SplashScreen />;\n  }\n\n  return (\n    <NavigationContainer>\n      <Stack.Navigator initialRouteName=\"Login\">\n        {/*        */}\n        {isSignedIn ? (\n          <>\n            <Stack.Screen\n              name=\"Home\"\n              component={Home}\n              options={{\n                headerStyle: {\n                  opacity: 0,\n                  height: 0,\n                },\n                animation: \"slide_from_left\",\n              }}\n            />\n            <Stack.Screen\n              name=\"card\"\n              component={CardScreen}\n              options={{\n                headerStyle: {},\n                animation: \"slide_from_left\",\n              }}\n            />\n            <Stack.Screen\n              name=\"stores\"\n              component={StoresScreen}\n              options={{\n                headerStyle: {\n                  opacity: 0,\n                  height: 0,\n                },\n                animation: \"slide_from_left\",\n              }}\n            />\n            <Stack.Screen\n              name=\"settings\"\n              component={SettingsScreen}\n              options={{\n                headerStyle: {\n                  opacity: 0,\n                  height: 0,\n                },\n              }}\n            />\n          </>\n        ) : (\n          <>\n            <Stack.Screen name=\"Login\" component={SignInScreen} />\n            <Stack.Screen name=\"Register\" component={SignUpScreen} />\n          </>\n        )}\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  image: {\n    width: 100,\n    height: 100,\n    borderRadius: 18,\n  },\n  icon: {\n    width: 40,\n    height: 40,\n  },\n\n  button: {\n    borderRadius: 50,\n    backgroundColor: \"0\",\n    borderWidth: 2,\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n  },\n});\n"],"mappings":";;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,mBAAmB,EAAEC,YAAY,QAAQ,0BAA0B;AAC5E,SAASC,0BAA0B,QAAQ,gCAAgC;AAC3E,SAASC,GAAG;AACZ,SAASC,OAAO,EAAEC,kBAAkB,QAAQ,eAAe;AAE3D,OAAOC,IAAI;AACX,OAAOC,UAAU;AACjB,OAAOC,YAAY;AACnB,OAAOC,cAAc;AACrB,OAAOC,YAAY;AACnB,OAAOC,YAAY;AAAyB,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE5C,IAAMC,KAAK,GAAGhB,0BAA0B,CAAC,CAAC;AAE1C,SAASiB,YAAYA,CAAA,EAAG;EACtB,OACEJ,KAAA,CAACK,IAAI;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAC;MAAEC,UAAU,EAAE,QAAQ;MAAEC,cAAc,EAAE;IAAS,CAAE;IAAAC,QAAA,GACvEZ,IAAA,CAACa,IAAI;MAAAD,QAAA,EAAC;IAAgB,CAAM,CAAC,EAC7BZ,IAAA,CAACc,iBAAiB;MAACC,IAAI,EAAC;IAAO,CAAE,CAAC;EAAA,CAC9B,CAAC;AAEX;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EAEvB,IAAMC,IAAI,GAAG1B,OAAO,CAACD,GAAG,CAAC;EACzBE,kBAAkB,CAACyB,IAAI,EAAE,UAACC,IAAI,EAAK;IACjC,IAAIA,IAAI,EAAE;MACR,IAAMC,GAAG,GAAGD,IAAI,CAACC,GAAG;MACpBC,SAAS,CAACC,QAAQ,CAAC,MAAM,CAAC;MAE1B,OAAO,IAAI;IACb,CAAC,MAAM;MACLD,SAAS,CAACC,QAAQ,CAAC,OAAO,CAAC;MAC3B,OAAO,KAAK;IACd;EACF,CAAC,CAAC;AACJ,CAAC;AAED,eAAe,SAASC,GAAGA,CAAA,EAAG;EAC5B,IAAMC,UAAU,GAAGP,UAAU,CAAC,CAAC;EAC/B,IAAAQ,eAAA,GAAkCtC,KAAK,CAACuC,QAAQ,CAAC,IAAI,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAA/CI,SAAS,GAAAF,gBAAA;IAAEG,YAAY,GAAAH,gBAAA;EAC9B,IAAAI,gBAAA,GAAkC5C,KAAK,CAACuC,QAAQ,CAAC,IAAI,CAAC;IAAAM,gBAAA,GAAAJ,cAAA,CAAAG,gBAAA;IAA/CE,SAAS,GAAAD,gBAAA;IAAEE,YAAY,GAAAF,gBAAA;EAE9BvC,kBAAkB,CAACyB,IAAI,EAAE,UAACC,IAAI,EAAK;IACjC,IAAIA,IAAI,EAAE;MACRe,YAAY,CAACf,IAAI,CAACC,GAAG,CAAC;MACtBe,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGH,SAAS,GAAG,YAAY,CAAC;MAC/C,OAAO,IAAI;IACb,CAAC,MAAM;MACLE,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChC,OAAO,KAAK;IACd;EACF,CAAC,CAAC;EACF,IAAIP,SAAS,EAAE;IAEb,OAAO5B,IAAA,CAACM,YAAY,IAAE,CAAC;EACzB;EAEA,OACEN,IAAA,CAACb,mBAAmB;IAAAyB,QAAA,EAClBZ,IAAA,CAACK,KAAK,CAAC+B,SAAS;MAACC,gBAAgB,EAAC,OAAO;MAAAzB,QAAA,EAEtCW,UAAU,GACTrB,KAAA,CAAAE,SAAA;QAAAQ,QAAA,GACEZ,IAAA,CAACK,KAAK,CAACiC,MAAM;UACXC,IAAI,EAAC,MAAM;UACXC,SAAS,EAAE/C,IAAK;UAChBgD,OAAO,EAAE;YACPC,WAAW,EAAE;cACXC,OAAO,EAAE,CAAC;cACVC,MAAM,EAAE;YACV,CAAC;YACDC,SAAS,EAAE;UACb;QAAE,CACH,CAAC,EACF7C,IAAA,CAACK,KAAK,CAACiC,MAAM;UACXC,IAAI,EAAC,MAAM;UACXC,SAAS,EAAE9C,UAAW;UACtB+C,OAAO,EAAE;YACPC,WAAW,EAAE,CAAC,CAAC;YACfG,SAAS,EAAE;UACb;QAAE,CACH,CAAC,EACF7C,IAAA,CAACK,KAAK,CAACiC,MAAM;UACXC,IAAI,EAAC,QAAQ;UACbC,SAAS,EAAE7C,YAAa;UACxB8C,OAAO,EAAE;YACPC,WAAW,EAAE;cACXC,OAAO,EAAE,CAAC;cACVC,MAAM,EAAE;YACV,CAAC;YACDC,SAAS,EAAE;UACb;QAAE,CACH,CAAC,EACF7C,IAAA,CAACK,KAAK,CAACiC,MAAM;UACXC,IAAI,EAAC,UAAU;UACfC,SAAS,EAAE5C,cAAe;UAC1B6C,OAAO,EAAE;YACPC,WAAW,EAAE;cACXC,OAAO,EAAE,CAAC;cACVC,MAAM,EAAE;YACV;UACF;QAAE,CACH,CAAC;MAAA,CACF,CAAC,GAEH1C,KAAA,CAAAE,SAAA;QAAAQ,QAAA,GACEZ,IAAA,CAACK,KAAK,CAACiC,MAAM;UAACC,IAAI,EAAC,OAAO;UAACC,SAAS,EAAE3C;QAAa,CAAE,CAAC,EACtDG,IAAA,CAACK,KAAK,CAACiC,MAAM;UAACC,IAAI,EAAC,UAAU;UAACC,SAAS,EAAE1C;QAAa,CAAE,CAAC;MAAA,CACzD;IACH,CACc;EAAC,CACC,CAAC;AAE1B;AAEA,IAAMgD,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC;EAC/BC,KAAK,EAAE;IACLC,KAAK,EAAE,GAAG;IACVN,MAAM,EAAE,GAAG;IACXO,YAAY,EAAE;EAChB,CAAC;EACDC,IAAI,EAAE;IACJF,KAAK,EAAE,EAAE;IACTN,MAAM,EAAE;EACV,CAAC;EAEDS,MAAM,EAAE;IACNF,YAAY,EAAE,EAAE;IAChBG,eAAe,EAAE,GAAG;IACpBC,WAAW,EAAE,CAAC;IACd5C,cAAc,EAAE,QAAQ;IACxB6C,SAAS,EAAE;EACb;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}