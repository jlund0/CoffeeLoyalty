{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { async } from \"@firebase/util\";\nimport app from \"./firebase\";\nimport { collection, addDoc, getFirestore, query, where, getDocs } from \"firebase/firestore\";\nvar db = getFirestore(app);\nexport function AddUser(userDetails) {\n  console.log(\"adding user\" + userDetails);\n  try {\n    var docRef = addDoc(collection(db, \"users\"), userDetails);\n    console.log(\"User written with ID: \", docRef.id);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n}\nexport function getUserInfo(_x) {\n  return _getUserInfo.apply(this, arguments);\n}\nfunction _getUserInfo() {\n  _getUserInfo = _asyncToGenerator(function* (userid) {\n    console.log(`fetching ${userid} details`);\n    var docRef = doc(db, \"user\", userid);\n    var docSnap = yield getDoc(docRef);\n    if (docSnap.exists()) {\n      console.log(\"Users data:\", docSnap.data());\n      return docSnap.data();\n    } else {\n      console.log(\"No such document!\");\n    }\n  });\n  return _getUserInfo.apply(this, arguments);\n}\nexport function getUserCards(_x2) {\n  return _getUserCards.apply(this, arguments);\n}\nfunction _getUserCards() {\n  _getUserCards = _asyncToGenerator(function* (userid) {\n    var cards = [];\n    console.log(`fetching ${userid} cards`);\n    var q = query(collection(db, \"cards\"), where(\"user\", \"==\", userid));\n    var querySnapshot = yield getDocs(q);\n    querySnapshot.forEach(function (doc) {\n      console.log(doc.id, \" => \", doc.data());\n      cards.push(doc.data());\n    });\n    console.log(\"users cards\" + cards);\n    return cards;\n  });\n  return _getUserCards.apply(this, arguments);\n}\nexport function getStoreInfo(storeid) {\n  console.log(`fetching ${storeid} info`);\n}\nexport function getStores(filter) {\n  console.log(`fetching stores in filter ${filter}`);\n}\nexport function addCard(cardid, userid) {\n  console.log(\"adding card with\" + cardid + \"to\" + userid);\n}","map":{"version":3,"names":["async","app","collection","addDoc","getFirestore","query","where","getDocs","db","AddUser","userDetails","console","log","docRef","id","e","error","getUserInfo","_x","_getUserInfo","apply","arguments","_asyncToGenerator","userid","doc","docSnap","getDoc","exists","data","getUserCards","_x2","_getUserCards","cards","q","querySnapshot","forEach","push","getStoreInfo","storeid","getStores","filter","addCard","cardid"],"sources":["C:/Users/julia/OneDrive/CoffeeLoyality/FrontEnd User Mobile/firebasefunctions.js"],"sourcesContent":["import { async } from \"@firebase/util\";\r\nimport app from \"./firebase\";\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  getFirestore,\r\n  query,\r\n  where,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\n\r\nconst db = getFirestore(app);\r\n\r\nexport function AddUser(userDetails) {\r\n  console.log(\"adding user\" + userDetails);\r\n  try {\r\n    const docRef = addDoc(collection(db, \"users\"), userDetails);\r\n    console.log(\"User written with ID: \", docRef.id);\r\n  } catch (e) {\r\n    console.error(\"Error adding document: \", e);\r\n  }\r\n}\r\n\r\nexport async function getUserInfo(userid) {\r\n  console.log(`fetching ${userid} details`);\r\n  const docRef = doc(db, \"user\", userid);\r\n  const docSnap = await getDoc(docRef);\r\n\r\n  if (docSnap.exists()) {\r\n    console.log(\"Users data:\", docSnap.data());\r\n    return docSnap.data();\r\n  } else {\r\n    // docSnap.data() will be undefined in this case\r\n    console.log(\"No such document!\");\r\n  }\r\n}\r\n\r\nexport async function getUserCards(userid) {\r\n  let cards = [];\r\n  console.log(`fetching ${userid} cards`);\r\n  const q = query(collection(db, \"cards\"), where(\"user\", \"==\", userid));\r\n  const querySnapshot = await getDocs(q);\r\n  querySnapshot.forEach((doc) => {\r\n    // doc.data() is never undefined for query doc snapshots\r\n    console.log(doc.id, \" => \", doc.data());\r\n    cards.push(doc.data());\r\n  });\r\n  console.log(\"users cards\" + cards);\r\n  return cards;\r\n}\r\n\r\nexport function getStoreInfo(storeid) {\r\n  console.log(`fetching ${storeid} info`);\r\n}\r\n\r\nexport function getStores(filter) {\r\n  console.log(`fetching stores in filter ${filter}`);\r\n}\r\n\r\nexport function addCard(cardid, userid) {\r\n  console.log(\"adding card with\" + cardid + \"to\" + userid);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}