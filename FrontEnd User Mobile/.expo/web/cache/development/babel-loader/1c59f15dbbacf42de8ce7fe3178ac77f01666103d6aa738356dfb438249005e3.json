{"ast":null,"code":"'use strict';\n\nvar XMLHttpRequest = require(\"./XMLHttpRequest\");\nvar originalXHROpen = XMLHttpRequest.prototype.open;\nvar originalXHRSend = XMLHttpRequest.prototype.send;\nvar originalXHRSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\nvar openCallback;\nvar sendCallback;\nvar requestHeaderCallback;\nvar headerReceivedCallback;\nvar responseCallback;\nvar _isInterceptorEnabled = false;\nvar XHRInterceptor = {\n  setOpenCallback: function setOpenCallback(callback) {\n    openCallback = callback;\n  },\n  setSendCallback: function setSendCallback(callback) {\n    sendCallback = callback;\n  },\n  setHeaderReceivedCallback: function setHeaderReceivedCallback(callback) {\n    headerReceivedCallback = callback;\n  },\n  setResponseCallback: function setResponseCallback(callback) {\n    responseCallback = callback;\n  },\n  setRequestHeaderCallback: function setRequestHeaderCallback(callback) {\n    requestHeaderCallback = callback;\n  },\n  isInterceptorEnabled: function isInterceptorEnabled() {\n    return _isInterceptorEnabled;\n  },\n  enableInterception: function enableInterception() {\n    if (_isInterceptorEnabled) {\n      return;\n    }\n    XMLHttpRequest.prototype.open = function (method, url) {\n      if (openCallback) {\n        openCallback(method, url, this);\n      }\n      originalXHROpen.apply(this, arguments);\n    };\n    XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\n      if (requestHeaderCallback) {\n        requestHeaderCallback(header, value, this);\n      }\n      originalXHRSetRequestHeader.apply(this, arguments);\n    };\n    XMLHttpRequest.prototype.send = function (data) {\n      var _this = this;\n      if (sendCallback) {\n        sendCallback(data, this);\n      }\n      if (this.addEventListener) {\n        this.addEventListener('readystatechange', function () {\n          if (!_isInterceptorEnabled) {\n            return;\n          }\n          if (_this.readyState === _this.HEADERS_RECEIVED) {\n            var contentTypeString = _this.getResponseHeader('Content-Type');\n            var contentLengthString = _this.getResponseHeader('Content-Length');\n            var responseContentType, responseSize;\n            if (contentTypeString) {\n              responseContentType = contentTypeString.split(';')[0];\n            }\n            if (contentLengthString) {\n              responseSize = parseInt(contentLengthString, 10);\n            }\n            if (headerReceivedCallback) {\n              headerReceivedCallback(responseContentType, responseSize, _this.getAllResponseHeaders(), _this);\n            }\n          }\n          if (_this.readyState === _this.DONE) {\n            if (responseCallback) {\n              responseCallback(_this.status, _this.timeout, _this.response, _this.responseURL, _this.responseType, _this);\n            }\n          }\n        }, false);\n      }\n      originalXHRSend.apply(this, arguments);\n    };\n    _isInterceptorEnabled = true;\n  },\n  disableInterception: function disableInterception() {\n    if (!_isInterceptorEnabled) {\n      return;\n    }\n    _isInterceptorEnabled = false;\n    XMLHttpRequest.prototype.send = originalXHRSend;\n    XMLHttpRequest.prototype.open = originalXHROpen;\n    XMLHttpRequest.prototype.setRequestHeader = originalXHRSetRequestHeader;\n    responseCallback = null;\n    openCallback = null;\n    sendCallback = null;\n    headerReceivedCallback = null;\n    requestHeaderCallback = null;\n  }\n};\nmodule.exports = XHRInterceptor;","map":{"version":3,"names":["XMLHttpRequest","require","originalXHROpen","prototype","open","originalXHRSend","send","originalXHRSetRequestHeader","setRequestHeader","openCallback","sendCallback","requestHeaderCallback","headerReceivedCallback","responseCallback","isInterceptorEnabled","XHRInterceptor","setOpenCallback","callback","setSendCallback","setHeaderReceivedCallback","setResponseCallback","setRequestHeaderCallback","enableInterception","method","url","apply","arguments","header","value","data","_this","addEventListener","readyState","HEADERS_RECEIVED","contentTypeString","getResponseHeader","contentLengthString","responseContentType","responseSize","split","parseInt","getAllResponseHeaders","DONE","status","timeout","response","responseURL","responseType","disableInterception","module","exports"],"sources":["D:/Users/julian/GIT/CoffeeLoyalty/FrontEnd User Mobile/node_modules/react-native/Libraries/Network/XHRInterceptor.js"],"sourcesContent":["/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n */\r\n\r\n'use strict';\r\n\r\nconst XMLHttpRequest = require('./XMLHttpRequest');\r\nconst originalXHROpen = XMLHttpRequest.prototype.open;\r\nconst originalXHRSend = XMLHttpRequest.prototype.send;\r\nconst originalXHRSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\r\n\r\nlet openCallback;\r\nlet sendCallback;\r\nlet requestHeaderCallback;\r\nlet headerReceivedCallback;\r\nlet responseCallback;\r\n\r\nlet isInterceptorEnabled = false;\r\n\r\n/**\r\n * A network interceptor which monkey-patches XMLHttpRequest methods\r\n * to gather all network requests/responses, in order to show their\r\n * information in the React Native inspector development tool.\r\n * This supports interception with XMLHttpRequest API, including Fetch API\r\n * and any other third party libraries that depend on XMLHttpRequest.\r\n */\r\nconst XHRInterceptor = {\r\n  /**\r\n   * Invoked before XMLHttpRequest.open(...) is called.\r\n   */\r\n  setOpenCallback(callback) {\r\n    openCallback = callback;\r\n  },\r\n\r\n  /**\r\n   * Invoked before XMLHttpRequest.send(...) is called.\r\n   */\r\n  setSendCallback(callback) {\r\n    sendCallback = callback;\r\n  },\r\n\r\n  /**\r\n   * Invoked after xhr's readyState becomes xhr.HEADERS_RECEIVED.\r\n   */\r\n  setHeaderReceivedCallback(callback) {\r\n    headerReceivedCallback = callback;\r\n  },\r\n\r\n  /**\r\n   * Invoked after xhr's readyState becomes xhr.DONE.\r\n   */\r\n  setResponseCallback(callback) {\r\n    responseCallback = callback;\r\n  },\r\n\r\n  /**\r\n   * Invoked before XMLHttpRequest.setRequestHeader(...) is called.\r\n   */\r\n  setRequestHeaderCallback(callback) {\r\n    requestHeaderCallback = callback;\r\n  },\r\n\r\n  isInterceptorEnabled() {\r\n    return isInterceptorEnabled;\r\n  },\r\n\r\n  enableInterception() {\r\n    if (isInterceptorEnabled) {\r\n      return;\r\n    }\r\n    // Override `open` method for all XHR requests to intercept the request\r\n    // method and url, then pass them through the `openCallback`.\r\n    XMLHttpRequest.prototype.open = function (method, url) {\r\n      if (openCallback) {\r\n        openCallback(method, url, this);\r\n      }\r\n      originalXHROpen.apply(this, arguments);\r\n    };\r\n\r\n    // Override `setRequestHeader` method for all XHR requests to intercept\r\n    // the request headers, then pass them through the `requestHeaderCallback`.\r\n    XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\r\n      if (requestHeaderCallback) {\r\n        requestHeaderCallback(header, value, this);\r\n      }\r\n      originalXHRSetRequestHeader.apply(this, arguments);\r\n    };\r\n\r\n    // Override `send` method of all XHR requests to intercept the data sent,\r\n    // register listeners to intercept the response, and invoke the callbacks.\r\n    XMLHttpRequest.prototype.send = function (data) {\r\n      if (sendCallback) {\r\n        sendCallback(data, this);\r\n      }\r\n      if (this.addEventListener) {\r\n        this.addEventListener(\r\n          'readystatechange',\r\n          () => {\r\n            if (!isInterceptorEnabled) {\r\n              return;\r\n            }\r\n            if (this.readyState === this.HEADERS_RECEIVED) {\r\n              const contentTypeString = this.getResponseHeader('Content-Type');\r\n              const contentLengthString =\r\n                this.getResponseHeader('Content-Length');\r\n              let responseContentType, responseSize;\r\n              if (contentTypeString) {\r\n                responseContentType = contentTypeString.split(';')[0];\r\n              }\r\n              if (contentLengthString) {\r\n                responseSize = parseInt(contentLengthString, 10);\r\n              }\r\n              if (headerReceivedCallback) {\r\n                headerReceivedCallback(\r\n                  responseContentType,\r\n                  responseSize,\r\n                  this.getAllResponseHeaders(),\r\n                  this,\r\n                );\r\n              }\r\n            }\r\n            if (this.readyState === this.DONE) {\r\n              if (responseCallback) {\r\n                responseCallback(\r\n                  this.status,\r\n                  this.timeout,\r\n                  this.response,\r\n                  this.responseURL,\r\n                  this.responseType,\r\n                  this,\r\n                );\r\n              }\r\n            }\r\n          },\r\n          false,\r\n        );\r\n      }\r\n      originalXHRSend.apply(this, arguments);\r\n    };\r\n    isInterceptorEnabled = true;\r\n  },\r\n\r\n  // Unpatch XMLHttpRequest methods and remove the callbacks.\r\n  disableInterception() {\r\n    if (!isInterceptorEnabled) {\r\n      return;\r\n    }\r\n    isInterceptorEnabled = false;\r\n    XMLHttpRequest.prototype.send = originalXHRSend;\r\n    XMLHttpRequest.prototype.open = originalXHROpen;\r\n    XMLHttpRequest.prototype.setRequestHeader = originalXHRSetRequestHeader;\r\n    responseCallback = null;\r\n    openCallback = null;\r\n    sendCallback = null;\r\n    headerReceivedCallback = null;\r\n    requestHeaderCallback = null;\r\n  },\r\n};\r\n\r\nmodule.exports = XHRInterceptor;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}