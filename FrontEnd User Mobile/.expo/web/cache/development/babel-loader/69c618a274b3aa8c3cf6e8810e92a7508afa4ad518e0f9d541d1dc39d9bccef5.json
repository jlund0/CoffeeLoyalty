{"ast":null,"code":"import { createUserWithEmailAndPassword, getAuth, updateProfile, TwitterAuthProvider, FacebookAuthProvider, GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\nimport { app } from \"../firebase\";\nimport { FacebookSVG, TwitterSVG, GoogleSVG } from \"../assets/socialSVG\";\nimport { AddUser } from \"../firebasefunctions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar auth = getAuth(app);\nauth.languageCode = \"it\";\nvar GoogleProvider = new GoogleAuthProvider();\nvar TwitterProvider = new TwitterAuthProvider();\nvar FacebookProvider = new FacebookAuthProvider();\nvar HandleSocialLogin = function HandleSocialLogin(_ref) {\n  var provider = _ref.provider,\n    name = _ref.name;\n  console.log(\"Logging in \" + name);\n  console.log(provider);\n  signInWithPopup(auth, provider).then(function (result) {\n    var credential = provider.credentialFromResult(result);\n    var token = credential.accessToken;\n    var user = result.user;\n    console.log(\"Logged in with:\", user.email);\n  }).catch(function (error) {\n    var errorCode = error.code;\n    var errorMessage = error.message;\n    var email = error.customData.email;\n    var credential = GoogleAuthProvider.credentialFromError(error);\n    console.log(errorCode, errorMessage, email, credential);\n  });\n};\nfunction SocialButton(_ref2) {\n  var provider = _ref2.provider,\n    SVG = _ref2.SVG,\n    name = _ref2.name;\n  return _jsx(TouchableOpacity, {\n    onPress: function onPress() {\n      return HandleSocialLogin(provider, name);\n    },\n    style: {\n      borderColor: \"#ddd\",\n      borderWidth: 2,\n      borderRadius: 10,\n      paddingHorizontal: 30,\n      paddingVertical: 10\n    },\n    children: _jsx(SVG, {\n      height: 24,\n      width: 24\n    })\n  });\n}\nexport function SocialButtons() {\n  return _jsxs(_Fragment, {\n    children: [_jsx(SocialButton, {\n      provider: GoogleProvider,\n      SVG: GoogleSVG,\n      name: \"Google\"\n    }), _jsx(SocialButton, {\n      provider: FacebookProvider,\n      SVG: FacebookSVG,\n      name: \"Facebook\"\n    }), _jsx(SocialButton, {\n      provider: TwitterProvider,\n      SVG: TwitterSVG,\n      name: \"Twitter\"\n    })]\n  });\n}","map":{"version":3,"names":["createUserWithEmailAndPassword","getAuth","updateProfile","TwitterAuthProvider","FacebookAuthProvider","GoogleAuthProvider","signInWithPopup","app","FacebookSVG","TwitterSVG","GoogleSVG","AddUser","View","TextInput","Button","Text","TouchableOpacity","StyleSheet","SafeAreaView","Image","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","auth","languageCode","GoogleProvider","TwitterProvider","FacebookProvider","HandleSocialLogin","_ref","provider","name","console","log","then","result","credential","credentialFromResult","token","accessToken","user","email","catch","error","errorCode","code","errorMessage","message","customData","credentialFromError","SocialButton","_ref2","SVG","onPress","style","borderColor","borderWidth","borderRadius","paddingHorizontal","paddingVertical","children","height","width","SocialButtons"],"sources":["C:/Users/julia/OneDrive/CoffeeLoyality/FrontEnd User Mobile/components/socialSignin.js"],"sourcesContent":["import {\r\n  createUserWithEmailAndPassword,\r\n  getAuth,\r\n  updateProfile,\r\n  TwitterAuthProvider,\r\n  FacebookAuthProvider,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from \"firebase/auth\";\r\nimport { app } from \"../firebase\";\r\nimport { FacebookSVG, TwitterSVG, GoogleSVG } from \"../assets/socialSVG\";\r\nimport { AddUser } from \"../firebasefunctions\";\r\nimport {\r\n  View,\r\n  TextInput,\r\n  Button,\r\n  Text,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n  SafeAreaView,\r\n  Image,\r\n} from \"react-native\";\r\n\r\nconst auth = getAuth(app);\r\nauth.languageCode = \"it\";\r\nconst GoogleProvider = new GoogleAuthProvider();\r\nconst TwitterProvider = new TwitterAuthProvider();\r\nconst FacebookProvider = new FacebookAuthProvider();\r\n\r\nconst HandleSocialLogin = ({ provider, name }) => {\r\n  console.log(\"Logging in \" + name);\r\n  console.log(provider);\r\n  signInWithPopup(auth, provider)\r\n    .then((result) => {\r\n      const credential = provider.credentialFromResult(result);\r\n      const token = credential.accessToken;\r\n      // The signed-in user info.\r\n      const user = result.user;\r\n      //   AddUser({\r\n      //     created_at: new Date(),\r\n      //     userID: user.uid,\r\n      //     name: user.displayName,\r\n      //     email: user.email,\r\n      //     earnt_coffees: 0,\r\n      //   });\r\n\r\n      console.log(\"Logged in with:\", user.email);\r\n    })\r\n    .catch((error) => {\r\n      // Handle Errors here.\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      // The email of the user's account used.\r\n      const email = error.customData.email;\r\n      // The AuthCredential type that was used.\r\n      const credential = GoogleAuthProvider.credentialFromError(error);\r\n      console.log(errorCode, errorMessage, email, credential);\r\n      // ...\r\n    });\r\n};\r\n\r\nfunction SocialButton({ provider, SVG, name }) {\r\n  return (\r\n    <TouchableOpacity\r\n      onPress={() => HandleSocialLogin(provider, name)}\r\n      style={{\r\n        borderColor: \"#ddd\",\r\n        borderWidth: 2,\r\n        borderRadius: 10,\r\n        paddingHorizontal: 30,\r\n        paddingVertical: 10,\r\n      }}\r\n    >\r\n      <SVG height={24} width={24} />\r\n    </TouchableOpacity>\r\n  );\r\n}\r\n\r\nexport function SocialButtons() {\r\n  return (\r\n    <>\r\n      <SocialButton provider={GoogleProvider} SVG={GoogleSVG} name=\"Google\" />\r\n      <SocialButton\r\n        provider={FacebookProvider}\r\n        SVG={FacebookSVG}\r\n        name=\"Facebook\"\r\n      />\r\n      <SocialButton\r\n        provider={TwitterProvider}\r\n        SVG={TwitterSVG}\r\n        name=\"Twitter\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}